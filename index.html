<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تجربة Pi Network</title>

    <meta name="pi-domain-verification" content="bebccf6428">

    <script src="https://sdk.minepi.com/pi-sdk.js"></script>


    <div style="text-align: center; margin-top: 50px;">
        <h2>تكامل تطبيق Pi Network</h2>
        
        <button id="pi-login-btn" onclick="loginWithPi()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
            تسجيل الدخول عبر Pi Network
        </button>

        <div id="status" style="margin-top: 20px; font-weight: bold; color: green;"></div>
    </div>

    <script>
        // تهيئة الـ SDK
        // sandbox: true (للتجربة)، اجعلها false عند النشر النهائي
        Pi.init({ version: "2.0", sandbox: true });

        // دالة تسجيل الدخول
        async function loginWithPi() {
            try {
                // طلب المصادقة والحصول على بيانات المستخدم
                const auth = await Pi.authenticate(['username'], onIncompletePaymentFound);
                
                // عند النجاح
                document.getElementById("status").innerText = "تم تسجيل الدخول بنجاح! مرحبًا: " + auth.user.username;
                document.getElementById("pi-login-btn").style.display = "none"; // إخفاء الزر
                
                console.log("User Auth:", auth);

            } catch (err) {
                // التعامل مع الأخطاء
                console.error("Authentication failed", err);
                alert("فشل تسجيل الدخول. تأكد أنك تستخدم متصفح Pi Browser.");
            }
        }

        // دالة مطلوبة من Pi للتعامل مع المدفوعات غير المكتملة (حتى لو لم تستخدم الدفع حالياً)
        function onIncompletePaymentFound(payment) {
            console.log("Incomplete payment found", payment);
            // هنا يتم وضع منطق التعامل مع المدفوعات المعلقة
        }
    </script>

<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق أذكار الصباح</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #27ae60;
            --bg-color: #f4f7f9;
            --card-bg: #ffffff;
            --text-main: #2d3436;
            --text-muted: #636e72;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .app-container {
            width: 100%;
            max-width: 650px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 25px;
        }

        header {
            text-align: center;
            border-bottom: 2px solid #edf2f7;
            margin-bottom: 30px;
            padding-bottom: 15px;
        }

        h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.8rem;
        }

        .reset-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .zekr-card {
            background: #fff;
            border: 2px solid #f1f2f6;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .zekr-card:hover {
            border-color: var(--accent-color);
        }

        .zekr-text {
            font-size: 1.25rem;
            color: var(--text-main);
            line-height: 1.8;
            margin-bottom: 15px;
            display: block;
            text-align: justify;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .counter-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(39, 174, 96, 0.3);
        }

        .count-label {
            color: var(--text-muted);
            font-weight: bold;
        }

        /* حالة الإتمام */
        .completed {
            background-color: #f8f9fa;
            opacity: 0.6;
            border-color: #dcdde1;
        }

        .completed .counter-btn {
            background: #95a5a6;
            box-shadow: none;
        }

        .check-mark {
            display: none;
            color: var(--accent-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .completed .check-mark {
            display: inline;
        }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <h1>أذكار الصباح</h1>
        <button class="reset-btn" onclick="resetAll()">إعادة ضبط الأذكار</button>
    </header>

    <div id="azkar-list"></div>
</div>

<script>
    const azkarData = [
        { id: 1, text: "اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ", count: 1 },
        { id: 2, text: "قُلْ هُوَ اللَّهُ أَحَدٌ (1) اللَّهُ الصَّمَدُ (2) لَمْ يَلِدْ وَلَمْ يُولَدْ (3) وَلَمْ يَكُنْ لَهُ كُفُوًا أَحَدٌ", count: 3 },
        { id: 3, text: "قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ (1) مِنْ شَرِّ مَا خَلَقَ (2) وَمِنْ شَرِّ غَاسِقٍ إِذَا وَقَبَ (3) وَمِنْ شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ (4) وَمِنْ شَرِّ حَاسِدٍ إِذَا حَسَدَ", count: 3 },
        { id: 4, text: "قُلْ أَعُوذُ بِرَبِّ النَّاسِ (1) مَلِكِ النَّاسِ (2) إِلَهِ النَّاسِ (3) مِنْ شَرِّ الْوَسْوَاسِ الْخَنَّاسِ (4) الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ (5) مِنَ الْجِنَّةِ وَالنَّاسِ", count: 3 },
        { id: 5, text: "أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذا اليوم وخير ما بعده، وأعوذ بك من شر ما في هذا اليوم وشر ما بعده، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر", count: 1 },
        { id: 6, text: "اللهم بك أصبحنا، وبك أمسينا، وبك نحيا، وبك نموت، وإليك النشور", count: 1 },
        { id: 7, text: "أصبحنا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد ﷺ، وعلى ملة أبينا إبراهيم حنيفاً مسلماً وما كان من المشركين", count: 1 },
        { id: 8, text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ رَبِّ الْعَالَمِينَ، اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذَا الْيَوْمِ فَتْحَهُ، وَنَصْرَهُ، وَنُورَهُ، وَبَرَكَتَهُ، وَهُدَاهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِيهِ، وَشَرِّ مَا بَعْدَهُ", count: 1 },
        { id: 9, text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء لك بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت", count: 1 },
        { id: 10, text: "اللهم أنت ربي لا إله إلا أنت، عليك توكلت، وأنت رب العرش العظيم، ما شاء الله كان، وما لم يشأ لم يكن، ولا حول ولا قوة إلا بالله العلي العظيم، أعلم أن الله على كل شيء قدير، وأن الله قد أحاط بكل شيء علماً", count: 1 },
        { id: 11, text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي وآمن روعاتي، اللهم احفظني من بين يدي ومن خلفي وعن يميني وعن شمالي ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي", count: 1 },
        { id: 12, text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت", count: 3 },
        { id: 13, text: "اللهم إني أعوذ بك من الكفر، والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت", count: 3 },
        { id: 14, text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم", count: 3 },
        { id: 15, text: "رضيت بالله رباً، وبالإسلام ديناً، وبمحمد ﷺ نبياً", count: 3 },
        { id: 16, text: "يا حي يا قيوم برحمتك أستغيث، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين", count: 1 },
        { id: 17, text: "حسبي الله لا إله إلا هو، عليه توكلت وهو رب العرش العظيم", count: 7 },
        { id: 18, text: "اللهم فاطر السموات والأرض، عالم الغيب والشهادة، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءاً، أو أجره إلى مسلم", count: 1 },
        { id: 19, text: "أعوذ بكلمات الله التامات من شر ما خلق", count: 3 },
        { id: 20, text: "اللهم إني أصبحت أشهدك وأشهد حملة عرشك، وملائكتك وجميع خلقك، أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمداً عبدك ورسولك", count: 4 },
        { id: 21, text: "سبحان الله وبحمده، عدد خلقه، ورضا نفسه، وزنة عرشه، ومداد كلماته", count: 3 },
        { id: 22, text: "اللهم ما أصبح بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر", count: 1 },
        { id: 23, text: "اللهم إني أسألك علماً نافعاً، ورزقاً طيباً، وعملًا متقبلاً", count: 1 },
        { id: 24, text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَأَعُوذُ بِكَ مِنَ الْعَجْزِ وَالْكَسَلِ، وَأَعُوذُ بِكَ مِنَ الْجُبْنِ وَالْبُخْلِ، وَأَعُوذُ بِكَ مِنْ غَلَبَةِ الدَّيْنِ، وَقَهْرِ الرِّجَالِ", count: 1 },
        { id: 25, text: "يا مقلب القلوب ثبت قلبي على دينك", count: 3 },
        { id: 26, text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير", count: 100 },
        { id: 27, text: "سبحان الله وبحمده", count: 100 },
        { id: 28, text: "سُبْحَانَ اللهِ العَظِيمِ وَبِحَمْدِهِ", count: 10 },
        { id: 29, text: "أستغفر الله وأتوب إليه", count: 100 },
        { id: 30, text: "اللهم صلِّ وسلم على نبينا محمد", count: 10 }
    ];

    function loadAzkar() {
        const listContainer = document.getElementById('azkar-list');
        listContainer.innerHTML = '';
        
        azkarData.forEach(item => {
            const savedCount = localStorage.getItem(`zekr_${item.id}`) || item.count;
            const isCompleted = savedCount == 0;
            
            const card = document.createElement('div');
            card.className = `zekr-card ${isCompleted ? 'completed' : ''}`;
            card.onclick = () => decrement(item.id);

            card.innerHTML = `
                <span class="zekr-text">${item.text}</span>
                <div class="controls">
                    <span class="count-label">المتبقي: <span id="val-${item.id}">${savedCount}</span> <span class="check-mark">✓</span></span>
                    <button class="counter-btn">${isCompleted ? '✓' : savedCount}</button>
                </div>
            `;
            listContainer.appendChild(card);
        });
    }

    function decrement(id) {
        let current = parseInt(localStorage.getItem(`zekr_${id}`) || azkarData.find(a => a.id === id).count);
        if (current > 0) {
            current--;
            localStorage.setItem(`zekr_${id}`, current);
            loadAzkar();
        }
    }

    function resetAll() {
        if(confirm("هل تريد إعادة عد الأذكار من جديد؟")) {
            localStorage.clear();
            loadAzkar();
        }
    }

    window.onload = loadAzkar;
</script>

</body>
</html>

