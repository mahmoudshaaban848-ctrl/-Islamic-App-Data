<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق أذكار الصباح والمساء</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --morning-color: #f39c12;
            --evening-color: #8e44ad;
            --accent-color: #27ae60;
            --bg-color: #f4f7f9;
            --card-bg: #ffffff;
            --text-main: #2d3436;
            --text-muted: #636e72;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
        }

        .app-container {
            width: 100%;
            max-width: 650px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 20px;
            margin-top: 10px;
        }

        header {
            text-align: center;
            border-bottom: 2px solid #edf2f7;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }

        h1 {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.8rem;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: 0.3s;
            background: #eee;
            color: #777;
        }

        .tab-btn.active.morning { background: var(--morning-color); color: white; }
        .tab-btn.active.evening { background: var(--evening-color); color: white; }

        .reset-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 5px;
            font-size: 0.85rem;
        }

        .zekr-card {
            background: #fff;
            border: 2px solid #f1f2f6;
            border-radius: 15px;
            padding: 18px;
            margin-bottom: 15px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .zekr-card:hover { border-color: var(--accent-color); }

        .zekr-text {
            font-size: 1.25rem;
            color: var(--text-main);
            line-height: 1.8;
            margin-bottom: 15px;
            display: block;
            text-align: justify;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .counter-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(39, 174, 96, 0.3);
        }

        .count-label {
            color: var(--text-muted);
            font-weight: bold;
            font-size: 0.9rem;
        }

        .completed {
            background-color: #f8f9fa;
            opacity: 0.6;
            border-color: #dcdde1;
        }

        .completed .counter-btn {
            background: #95a5a6;
            box-shadow: none;
        }

        .check-mark {
            display: none;
            color: var(--accent-color);
            margin-right: 5px;
        }

        .completed .check-mark { display: inline; }

        [data-view="evening"] .zekr-card:hover { border-color: var(--evening-color); }
        [data-view="evening"] .counter-btn { background: var(--evening-color); box-shadow: 0 4px 10px rgba(142, 68, 173, 0.3); }
    </style>
</head>
<body data-view="morning">

<div class="app-container">
    <header>
        <h1 id="main-title">أذكار الصباح</h1>
        <button class="reset-btn" onclick="resetCurrentSection()">إعادة ضبط القسم</button>
    </header>

    <div class="tabs">
        <button class="tab-btn morning active" onclick="switchView('morning')">أذكار الصباح</button>
        <button class="tab-btn evening" onclick="switchView('evening')">أذكار المساء</button>
    </div>

    <div id="azkar-list"></div>
</div>

<script>
    const morningAzkar = [
        { id: 'm1', text: "اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ", count: 1 },
        { id: 'm2', text: "قُلْ هُوَ اللَّهُ أَحَدٌ (1) اللَّهُ الصَّمَدُ (2) لَمْ يَلِدْ وَلَمْ يُولَدْ (3) وَلَمْ يَكُنْ لَهُ كُفُوًا أَحَدٌ", count: 3 },
        { id: 'm3', text: "قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ (1) مِنْ شَرِّ مَا خَلَقَ (2) وَمِنْ شَرِّ غَاسِقٍ إِذَا وَقَبَ (3) وَمِنْ شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ (4) وَمِنْ شَرِّ حَاسِدٍ إِذَا حَسَدَ", count: 3 },
        { id: 'm4', text: "قُلْ أَعُوذُ بِرَبِّ النَّاسِ (1) مَلِكِ النَّاسِ (2) إِلَهِ النَّاسِ (3) مِنْ شَرِّ الْوَسْوَاسِ الْخَنَّاسِ (4) الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ (5) مِنَ الْجِنَّةِ وَالنَّاسِ", count: 3 },
        { id: 'm5', text: "أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذا اليوم وخير ما بعده، وأعوذ بك من شر ما في هذا اليوم وشر ما بعده، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر", count: 1 },
        { id: 'm6', text: "اللهم بك أصبحنا، وبك أمسينا، وبك نحيا، وبك نموت، وإليك النشور", count: 1 },
        { id: 'm7', text: "أصبحنا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد ﷺ، وعلى ملة أبينا إبراهيم حنيفاً مسلماً وما كان من المشركين", count: 1 },
        { id: 'm8', text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ رَبِّ الْعَالَمِينَ، اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذَا الْيَوْمِ فَتْحَهُ، وَنَصْرَهُ، وَنُورَهُ، وَبَرَكَتَهُ، وَهُدَاهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِيهِ، وَشَرِّ مَا بَعْدَهُ", count: 1 },
        { id: 'm9', text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء لك بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت", count: 1 },
        { id: 'm10', text: "يا رب لك الحمد كما ينبغي لجلال وجهك وعظيم سلطانك", count: 3 },
        { id: 'm11', text: "اللهم أنت ربي لا إله إلا أنت، عليك توكلت، وأنت رب العرش العظيم، ما شاء الله كان، وما لم يشأ لم يكن، ولا حول ولا قوة إلا بالله العلي العظيم، أعلم أن الله على كل شيء قدير، وأن الله قد أحاط بكل شيء علماً", count: 1 },
        { id: 'm12', text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي وآمن روعاتي، اللهم احفظني من بين يدي ومن خلفي وعن يميني وعن شمالي ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي", count: 1 },
        { id: 'm13', text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت", count: 3 },
        { id: 'm14', text: "اللهم إني أعوذ بك من الكفر، والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت", count: 3 },
        { id: 'm15', text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم", count: 3 },
        { id: 'm16', text: "رضيت بالله رباً، وبالإسلام ديناً، وبمحمد ﷺ نبياً", count: 3 },
        { id: 'm17', text: "يا حي يا قيوم برحمتك أستغيث، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين", count: 1 },
        { id: 'm18', text: "حسبي الله لا إله إلا هو، عليه توكلت وهو رب العرش العظيم", count: 7 },
        { id: 'm19', text: "اللهم فاطر السموات والأرض، عالم الغيب والشهادة، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءاً، أو أجره إلى مسلم", count: 1 },
        { id: 'm20', text: "أعوذ بكلمات الله التامات من شر ما خلق", count: 3 },
        { id: 'm21', text: "اللهم إني أصبحت أشهدك وأشهد حملة عرشك، وملائكتك وجميع خلقك، أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمداً عبدك ورسولك", count: 4 },
        { id: 'm22', text: "سبحان الله وبحمده، عدد خلقه، ورضا نفسه، وزنة عرشه، ومداد كلماته", count: 3 },
        { id: 'm23', text: "اللهم ما أصبح بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر", count: 1 },
        { id: 'm24', text: "اللهم إني أسألك علماً نافعاً، ورزقاً طيباً، وعملًا متقبلاً", count: 1 },
        { id: 'm25', text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَأَعُوذُ بِكَ مِنَ الْعَجْزِ وَالْكَسَلِ، وَأَعُوذُ بِكَ مِنَ الْجُبْنِ وَالْبُخْلِ، وَأَعُوذُ بِكَ مِنْ غَلَبَةِ الدَّيْنِ، وَقَهْرِ الرِّجَالِ", count: 1 },
        { id: 'm26', text: "اللهم يا مقلب القلوب ثبت قلبي على دينك", count: 3 },
        { id: 'm27', text: "استغفر الله العظيم الذي لا اله الا هو الحي القيوم واتوب اليه", count: 3 },
        { id: 'm28', text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير", count: 100 },
        { id: 'm29', text: "سبحان الله وبحمده", count: 100 },
        { id: 'm30', text: "سُبْحَانَ اللهِ العَظِيمِ وَبِحَمْدِهِ", count: 10 },
        { id: 'm31', text: "أستغفر الله وأتوب إليه", count: 100 },
        { id: 'm32', text: "اللهم صلِّ وسلم على نبينا محمد", count: 10 }
    ];

    const eveningAzkar = [
        { id: 'e1', text: "اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ", count: 1 },
        { id: 'e_extra', text: "آمَنَ الرَّسُولُ بِمَا أُنزِلَ إِلَيْهِ مِن رَّبِّهِ وَالْمُؤْمِنُونَ ۚ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِّن رُّسُلِهِ ۚ وَقَالُوا سَمِعْنَا وَأَطَعْنَا ۖ غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ (285) لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا ۚ لَهَا مَا كَسَبَتْ وَعَلَيْهَا مَا اكْتَسَبَتْ ۗ رَبَّنَا لَا تُؤَاخِذْنَا إِن نَّسِينَا أَوْ أَخْطَأْنَا ۚ رَبَّنَا وَلَا تَحْمِلْ عَلَيْنَا إِصْرًا كَمَا حَمَلْتَهُ عَلَى الَّذِينَ مِن قَبْلِنَا ۚ رَبَّنَا وَلَا تُحَمِّلْنَا مَا لَا طَاقَةَ لَنَا بِهِ ۖ وَاعْفُ عَنَّا وَاغْفِرْ لَنَا وَارْحَمْنَا ۚ أَنتَ مَوْلَانَا فَانصُرْنَا عَلَى الْقَوْمِ الْكَافِرِينَ (286)", count: 1 },
        { id: 'e2', text: "قُلْ هُوَ اللَّهُ أَحَدٌ (1) اللَّهُ الصَّمَدُ (2) لَمْ يَلِدْ وَلَمْ يُولَدْ (3) وَلَمْ يَكُنْ لَهُ كُفُوًا أَحَدٌ", count: 3 },
        { id: 'e3', text: "قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ (1) مِنْ شَرِّ مَا خَلَقَ (2) وَمِنْ شَرِّ غَاسِقٍ إِذَا وَقَبَ (3) وَمِنْ شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ (4) وَمِنْ شَرِّ حَاسِدٍ إِذَا حَسَدَ", count: 3 },
        { id: 'e4', text: "قُلْ أَعُوذُ بِرَبِّ النَّاسِ (1) مَلِكِ النَّاسِ (2) إِلَهِ النَّاسِ (3) مِنْ شَرِّ الْوَسْوَاسِ الْخَنَّاسِ (4) الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ (5) مِنَ الْجِنَّةِ وَالنَّاسِ", count: 3 },
        { id: 'e5', text: "أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذه الليلة وخير ما بعدها، وأعوذ بك من شر ما في هذه الليلة وشر ما بعدها، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر", count: 1 },
        { id: 'e6', text: "اللهم بك أمسينا، وبك أصبحنا، وبك نحيا، وبك نموت، وإليك المصير", count: 1 },
        { id: 'e7', text: "أمسينا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد ﷺ، وعلى ملة أبينا إبراهيم حنيفاً مسلماً وما كان من المشركين", count: 1 },
        { id: 'e8', text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ رَبِّ الْعَالَمِينَ، اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذِهِ اللَّيْلَةِ فَتْحَهَا، وَنَصْرَهَا، وَنُورَهَا، وَبَرَكَتَهَا، وَهُدَاهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِيهَا، وَشَرِّ مَا بَعْدَهَا", count: 1 },
        { id: 'e9', text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء لك بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت", count: 1 },
        { id: 'e10', text: "يا رب لك الحمد كما ينبغي لجلال وجهك وعظيم سلطانك", count: 3 },
        { id: 'e11', text: "اللهم أنت ربي لا إله إلا أنت، عليك توكلت، وأنت رب العرش العظيم، ما شاء الله كان، وما لم يشأ لم يكن، ولا حول ولا قوة إلا بالله العلي العظيم، أعلم أن الله على كل شيء قدير، وأن الله قد أحاط بكل شيء علماً", count: 1 },
        { id: 'e12', text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي وآمن روعاتي، اللهم احفظني من بين يدي ومن خلفي وعن يميني وعن شمالي ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي", count: 1 },
        { id: 'e13', text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت", count: 3 },
        { id: 'e14', text: "اللهم إني أعوذ بك من الكفر، والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت", count: 3 },
        { id: 'e15', text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم", count: 3 },
        { id: 'e16', text: "رضيت بالله رباً، وبالإسلام ديناً، وبمحمد ﷺ نبياً", count: 3 },
        { id: 'e17', text: "يا حي يا قيوم برحمتك أستغيث، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين", count: 1 },
        { id: 'e18', text: "حسبي الله لا إله إلا هو، عليه توكلت وهو رب العرش العظيم", count: 7 },
        { id: 'e19', text: "أعوذ بكلمات الله التامات من شر ما خلق", count: 3 },
        { id: 'e20', text: "اللهم فاطر السموات والأرض، عالم الغيب والشهادة، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءاً، أو أجره إلى مسلم", count: 1 },
        { id: 'e21', text: "اللهم إني أمسيت أشهدك وأشهد حملة عرشك، وملائكتك وجميع خلقك، أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمداً عبدك ورسولك", count: 4 },
        { id: 'e22', text: "سبحان الله وبحمده، عدد خلقه، ورضا نفسه، وزنة عرشه، ومداد كلماته", count: 3 },
        { id: 'e23', text: "اللهم ما أمسى بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر", count: 1 },
        { id: 'e24', text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَأَعُوذُ بِكَ مِنَ الْعَجْزِ وَالْكَسَلِ، وَأَعُوذُ بِكَ مِنَ الْجُبْنِ وَالْبُخْلِ، وَأَعُوذُ بِكَ مِنْ غَلَبَةِ الدَّيْنِ، وَقَهْرِ الرِّجَالِ", count: 1 },
        { id: 'e25', text: "اللهم يا مقلب القلوب ثبت قلبي على دينك", count: 3 },
        { id: 'e26', text: "استغفر الله العظيم الذي لا اله الا هو الحي القيوم واتوب اليه", count: 3 },
        { id: 'e27', text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير", count: 100 },
        { id: 'e28', text: "سبحان الله وبحمده", count: 100 },
        { id: 'e29', text: "سُبْحَانَ اللهِ العَظِيمِ وَبِحَمْدِهِ", count: 10 },
        { id: 'e30', text: "أستغفر الله وأتوب إليه", count: 100 },
        { id: 'e31', text: "اللهم صلِّ وسلم على نبينا محمد", count: 10 }
    ];

    let currentMode = 'morning';

    function switchView(mode) {
        currentMode = mode;
        document.body.setAttribute('data-view', mode);
        document.getElementById('main-title').innerText = mode === 'morning' ? 'أذكار الصباح' : 'أذكار المساء';
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelector(`.tab-btn.${mode}`).classList.add('active');
        loadAzkar();
    }

    function loadAzkar() {
        const listContainer = document.getElementById('azkar-list');
        listContainer.innerHTML = '';
        const data = currentMode === 'morning' ? morningAzkar : eveningAzkar;
        
        data.forEach(item => {
            const savedCount = localStorage.getItem(`zekr_${item.id}`) !== null 
                                ? localStorage.getItem(`zekr_${item.id}`) 
                                : item.count;
            const isCompleted = savedCount == 0;
            const card = document.createElement('div');
            card.className = `zekr-card ${isCompleted ? 'completed' : ''}`;
            card.onclick = () => decrement(item.id, data);
            card.innerHTML = `
                <span class="zekr-text">${item.text}</span>
                <div class="controls">
                    <span class="count-label">المتبقي: <span id="val-${item.id}">${savedCount}</span> <span class="check-mark">✓ تم</span></span>
                    <button class="counter-btn">${isCompleted ? '✓' : savedCount}</button>
                </div>`;
            listContainer.appendChild(card);
        });
    }

    function decrement(id, data) {
        let current = parseInt(localStorage.getItem(`zekr_${id}`) !== null 
                                ? localStorage.getItem(`zekr_${id}`) 
                                : data.find(a => a.id === id).count);
        if (current > 0) {
            current--;
            localStorage.setItem(`zekr_${id}`, current);
            loadAzkar();
            if (current === 0 && window.navigator.vibrate) window.navigator.vibrate(50);
        }
    }

    function resetCurrentSection() {
        if(confirm("هل تريد إعادة تصفير العداد لهذا القسم؟")) {
            const data = currentMode === 'morning' ? morningAzkar : eveningAzkar;
            data.forEach(item => localStorage.removeItem(`zekr_${item.id}`));
            loadAzkar();
        }
    }

    window.onload = () => switchView('morning');
</script>
</body>
</html>

